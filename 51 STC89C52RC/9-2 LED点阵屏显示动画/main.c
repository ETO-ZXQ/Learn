#include <REGX52.H>
#include "MatrixLED.h"
#include "Timer0.h"	


unsigned char offset = 8;//动画偏移量


void main()
{
	unsigned char Animation[] = 
{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xC1,0x83,0x85,0x89,0x91,0xA1,0xC3,0x00,
0x81,0x42,0x24,0x10,0x24,0x42,0x81,0x00,
0x3C,0x42,0x81,0x81,0x85,0x42,0x3D,0x00,
0x00,0x00,0x06,0x69,0x91,0x89,0x65,0x02,
0x05,0x00,0x00,0x00,0x3C,0x42,0x81,0x81,
0x81,0x42,0x00,0x00,0x82,0x81,0x81,0xFE,
0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

};
	


	unsigned char i;
	


	MatrixLED_Inint();
	Timer0_Init();
	
	while(1)
	{	for(i=1;i<=8;i++)
		{
			MatrixLED_ShowColumn(i,Animation[offset+i-1]);
		}
	}	
}


void Timer0_Rountine(void) interrupt 1
{
	static unsigned char T0count = 0;	//static修饰 本函数可重复使用，会一直存在，直到程序结束
	TL0 = 0x00;		//设置定时初值
	TH0 = 0xDC;		//设置定时初值
	T0count++;
	if(T0count==10)	//计时 0.1 秒
	{
		if(offset==63)
			offset = 0;
		else
			offset++;
		
		T0count=0;
	}
}